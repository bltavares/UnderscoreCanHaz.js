(function(a){var b=function(){var b=this;b.templates={};b.caching=[];var c={raw:false,cache:true};b.get_cached=function(a){return _.detect(b.caching,function(b){return b.id==a.id&&_.isEqual(b.data,a.data)})};b.addTemplate=function(d,e){if(d in b.templates||d in b)throw"Duplicate template: "+d;b.templates[d]=_.template(e);b[d]=function(e,f){f=_.extend(c,f||{});var g={id:d,data:e||{}},h=f.cache?b.get_cached(g):false;if(!h){h=_.extend(g,{template:b.templates[d](g.data)});if(f.cache){b.caching.push(h)}}return f.raw?h.template:a(h.template)}};b.grabAllTemplates=function(){a('script[type="text/html"]').each(function(c,d){var e=a(this),f=a.trim(e.text());b.addTemplate(e.attr("id"),f);e.remove()})};return b};window._chz=new b;a(function(){_chz.grabAllTemplates()})})(jQuery)
